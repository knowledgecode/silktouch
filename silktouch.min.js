/*
 SilkTouch (c) KNOWLEDGECODE | MIT
*/
(function(p){var q=function(){var a=Element.prototype,c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;return function(a,b){return c.call(a,b)}}(),b={},d={},g=[],h=[],l=function(a){this.originalEvent=a;this.bubbles=!0};l.prototype.preventDefault=function(){this.originalEvent.preventDefault()};l.prototype.stopPropagation=function(){this.bubbles=!1};var m=function(){return Object.keys(d).filter(function(a){return!~g.indexOf(a)})},n=function(a){for(var c,b,f,e=a.target,
k=h.slice();e.parentNode;){for(c=0;k.length>c;)b=k[c],q(e,d[b].selector)?(k.splice(c,1),f=f||new l(a),d[b].handler.call(e,f)):c++;if(!k.length||f&&!f.bubbles)break;e=e.parentNode}};b.enchant=function(a){var c,d,f,e;b.enchant=function(){};a=a||document;"ontouchstart"in p?(document.querySelector('meta[name="viewport"]')||(c=document.createElement("meta"),c.name="viewport",c.content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1",document.head.appendChild(c)),
c=document.documentElement.style,"touch-action"in c?(c.touchAction="manipulation",a.addEventListener("click",n,!0)):(a.addEventListener("touchstart",function(a){d=a.changedTouches[0].pageX;f=a.changedTouches[0].pageY},{capture:!0,passive:!0}),a.addEventListener("touchend",function(a){var c=a.changedTouches[0].pageX,b=a.changedTouches[0].pageY;e=void 0;4<Math.abs(c-d)||4<Math.abs(b-f)?a.preventDefault():(n(a),e=a.target)},!0),a.addEventListener("touchcancel",function(){e=void 0},!0),a.addEventListener("click",
function(a){a.target!==e&&a.preventDefault();e=void 0},!0))):a.addEventListener("click",n,!0)};b.on=function(a,c,b){d[a]||(d[a]={selector:c,handler:b},h=m());return this};b.off=function(a){arguments.length?d[a]&&delete d[a]:d={};return b.resume(a)};b.one=function(a,b,d){return this.on(a,b,function(b){this.off(a);d(b)}.bind(this))};b.suspend=function(a){a?d[a]&&!~g.indexOf(a)&&g.push(a):Object.keys(d).forEach(function(a){b.suspend(a)});h=m();return this};b.resume=function(a){a?(a=g.indexOf(a),~a&&
g.splice(a,1)):g.length=0;h=m();return this};b.names=function(a){return a?g.slice():Object.keys(d)};"object"===typeof module&&"object"===typeof module.exports?module.exports=b:"function"===typeof define&&define.amd?define([],function(){return b}):p.silktouch=b})(this);
