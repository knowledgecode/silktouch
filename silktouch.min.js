/*
 SilkTouch (c) KNOWLEDGECODE | MIT
*/
(function(n){var r=function(){var a=Element.prototype,g=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;return function(a,b){return g.call(a,b)}}(),b={},e={},c=[],h=[],k=function(a){this.originalEvent=a;this.bubbles=!0};k.prototype.preventDefault=function(){this.originalEvent.preventDefault()};k.prototype.stopPropagation=function(){this.bubbles=!1};var l=function(){return Object.keys(e).filter(function(a){return!~c.indexOf(a)})},m=function(a){for(var g,b,c,d=a.target,
f=h.slice();d.parentNode;){for(g=0;f.length>g;)b=f[g],r(d,e[b].selector)?(f.splice(g,1),c=c||new k(a),e[b].handler.call(d,c)):g++;if(!f.length||c&&!c.bubbles)break;d=d.parentNode}},d,p,q,f;"ontouchstart"in n?(document.querySelector('meta[name="viewport"]')||(d=document.createElement("meta"),d.name="viewport",d.content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1",document.head.appendChild(d)),d=document.documentElement.style,"touch-action"in d?(d.touchAction="manipulation",
document.addEventListener("click",m,!0)):(document.addEventListener("touchstart",function(a){p=a.changedTouches[0].pageX;q=a.changedTouches[0].pageY},{capture:!0,passive:!0}),document.addEventListener("touchend",function(a){var b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY;f=void 0;4<Math.abs(b-p)||4<Math.abs(c-q)?a.preventDefault():(m(a),f=a.target)},!0),document.addEventListener("touchcancel",function(){f=void 0},!0),document.addEventListener("click",function(a){a.target!==f&&a.preventDefault();
f=void 0},!0))):document.addEventListener("click",m,!0);b.on=function(a,b,c){e[a]||(e[a]={selector:b,handler:c},h=l());return this};b.off=function(a){arguments.length?e[a]&&delete e[a]:e={};return b.resume(a)};b.one=function(a,b,c){return this.on(a,b,function(b){this.off(a);c(b)}.bind(this))};b.suspend=function(a){a?e[a]&&!~c.indexOf(a)&&c.push(a):Object.keys(e).forEach(function(a){b.suspend(a)});h=l();return this};b.resume=function(a){a?(a=c.indexOf(a),~a&&c.splice(a,1)):c.length=0;h=l();return this};
b.names=function(a){return a?c.slice():Object.keys(e)};"object"===typeof module&&"object"===typeof module.exports?module.exports=b:"function"===typeof define&&define.amd?define([],function(){return b}):n.silktouch=b})(this);
