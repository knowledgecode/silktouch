/*
 SilkTouch (c) KNOWLEDGECODE | MIT
*/
(function(m){var r=function(){var a=Element.prototype,f=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;return function(a,b){return f.call(a,b)}}(),b={},d={},c=[],g=[],k=function(a){this.originalEvent=a;this.bubbles=!0};k.prototype.preventDefault=function(){this.originalEvent.preventDefault()};k.prototype.stopPropagation=function(){this.bubbles=!1};var l=function(){return Object.keys(d).filter(function(a){return!~c.indexOf(a)})},n=function(a){for(var f,b,c,e=a.target,
h=g.slice();e.parentNode;){for(f=0;h.length>f;)b=h[f],r(e,d[b].selector)?(h.splice(f,1),c=c||new k(a),d[b].handler.call(e,c)):f++;if(!h.length||c&&!c.bubbles)break;e=e.parentNode}},p,q,e;"ontouchstart"in m?(document.addEventListener("touchstart",function(a){p=a.changedTouches[0].pageX;q=a.changedTouches[0].pageY},{capture:!0,passive:!0}),document.addEventListener("touchend",function(a){var b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY;e=void 0;4<Math.abs(b-p)||4<Math.abs(c-q)?a.preventDefault():
(n(a),e=a.target)},!0),document.addEventListener("touchcancel",function(){e=void 0},!0),document.addEventListener("click",function(a){a.target!==e&&a.preventDefault();e=void 0},!0)):document.addEventListener("click",n,!0);b.on=function(a,b,c){d[a]||(d[a]={selector:b,handler:c},g=l());return this};b.off=function(a){arguments.length?d[a]&&delete d[a]:d={};return b.resume(a)};b.one=function(a,b,c){return this.on(a,b,function(b){this.off(a);c(b)}.bind(this))};b.suspend=function(a){a?d[a]&&!~c.indexOf(a)&&
c.push(a):Object.keys(d).forEach(function(a){b.suspend(a)});g=l();return this};b.resume=function(a){a?(a=c.indexOf(a),~a&&c.splice(a,1)):c.length=0;g=l();return this};b.names=function(a){return a?c.slice():Object.keys(d)};"object"===typeof module&&"object"===typeof module.exports?module.exports=b:"function"===typeof define&&define.amd?define([],function(){return b}):m.silktouch=b})(this);
